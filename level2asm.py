#!/usr/bin/env python3

def is_level_data(line: str) -> bool:
    return not (line.endswith(':') or line.strip() == '')


with open("levels.txt", "r") as f:
    lines = f.read().splitlines()

print('; Generated by level2asm.py')
print('; Do not edit this file, edit levels.txt instead')
print('SECTION "Levels", ROM0')

l = []
for line in lines:
    if line.startswith(';') and len(l) > 0:
        length = max(len(s) for s in l)
        while l:
            print(f'  DB "{l.pop(0):<{length}}\\n"' if is_level_data(l[0]) else l.pop(0))
    l.append(line)

if len(l) > 0:
    length = max(len(s) for s in l)
    while l:
        print(f'  DB "{l.pop(0):<{length}}\\n"' if is_level_data(l[0]) else l.pop(0))